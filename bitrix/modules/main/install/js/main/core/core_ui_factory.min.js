(function(){"use strict";BX.namespace("BX.Main.ui");BX.Main.ui.factory=function(){if(BX.Main.ui.factory instanceof BX.Main.ui.factory){return BX.Main.ui.factory}this.data=[];this.classControl="main-ui-control";this.classSelect="main-ui-select";this.classMultiSelect="main-ui-multi-select";this.classDate="main-ui-date";this.init()};BX.Main.ui.factory.prototype={init:function(){BX.bind(document,"click",BX.delegate(this._onClick,this));document.addEventListener("focus",BX.delegate(this._onClick,this),true)},_onClick:function(t){var i;var a=this;var n=5;if(!("path"in t)||!t.path.length){t.path=[t.target];var e=0;var s;while((s=t.path[e++].parentNode)!=null)t.path.push(s)}t.path.forEach(function(e,s){if(s>n||!BX.type.isDomNode(e)){return false}if(BX.hasClass(e,a.classControl)){if(BX.hasClass(e,a.classSelect)||BX.hasClass(e,a.classMultiSelect)){i=a.get(e);if(!i){i={node:e,instance:new BX.Main.ui.select(e)};a.data.push(i);i.instance._onControlClick(t)}}if(BX.hasClass(e,a.classDate)){i=a.get(e);if(!i){i={node:e,instance:new BX.Main.ui.date(e)};a.data.push(i)}return false}}})},get:function(t){var i=this.data.filter(function(i){return t===i.node});return i.length>0?i[0]:null}};BX.Main.ui.factory=new BX.Main.ui.factory})();
//# sourceMappingURL=core_ui_factory.map.js