{"version":3,"file":"dialog.min.js","sources":["dialog.js"],"names":["BXBlockEditorPreview","params","this","init","prototype","url","site","previewContext","BX","findChildByClassName","context","devicesContext","iframePreview","shadowNode","findChild","className","_this","deviceList","findChildrenByClassName","i","device","bind","changeDevice","loadHandler","loadCSS","Math","random","contentDocument","contentWindow","removeClass","ready","deviceNode","width","getAttribute","height","classNameList","deviceNodeTmp","push","addClass","frameWrapper","join","style","show","display","ajax","method","data","sessid","bitrix_sessid","src","content","onsuccess","randomString","setAttribute","onfailure","hide","BXBlockEditorDragDrop","CONST_ATTR_BLOCK_TYPE","CONST_ATTR_BLOCK_STATUS","addItem","node","dragdrop","addCatcher","addDragItem","removeItem","removeCatcher","DragDrop","create","dragItemClassName","dropZoneList","dragStart","delegate","eventObj","dragElement","event","lastDragObject","dragEnterCounter","dropZoneNodeList","dragDrop","catcherObj","onCustomEvent","pos","before","offsetY","blockStatus","blockType","dragOver","blockInside","dragEnter","target","preventDefault","dragLeave","dragEnd","BXBlockEditorDialogFileInput","isMultiImage","caller","id","fileInput","UI","FileInput","getInstance","toLowerCase","fileList","addCustomEvent","onLink","onSave","onLoadSetting","getImages","itemList","agent","getItems","reset","item","ids","getNext","result","filter","file","util","in_array","map","setImages","pathList","deleteFiles","fileDialogFiles","frameFilesOldValue","uploadParams","path","pathAr","split","filename","pop","filedir","handlerFileDialog","onAgentChange","ctrlImage","value","multi","ctrl","code","pathListTmp","pathListClean","semaphoreOnQueueIsChanged","onFileIsCreated","files","default","isNeedToDoRequest","fileContainer","inputList","querySelectorAll","postData","paramName","paramValue","indexOf","isSaved","saved","length","dataType","async","onImagesSaved","tabCode","tabList","items","fileTmp","fileNew","filtered","replace","BXBlockEditorEditDialogColumn","attributeColumnNum","attributeColumnValue","attributeColumnCount","onLinkControl","getColumnList","container","findChildren","attribute","bindOnSwitch","columnNum","columnNumValue","getCtrlContainer","columnList","getCurrentEditingBlock","getEditValue","setCtrlValue","onSettingDependenceChange","eventParams","eventParamsDependence","parseInt","counter","displayMode","column","switchDefaultColumn","columnNumList","fireEvent","j","BXBlockEditorSocial","inputControl","cleanNode","itemContainer","valueList","JSON","parse","href","name","fireChange","stringify","getValue","getItemList","getItemControl","getItem","control","findParent","remove","changePreset","elementSelect","options","selectedIndex","text","html","templateItem","innerHTML","div","attrs","data-bx-block-editor-social-item","deleteButton","changeButton","nameInput","hrefInput","appendChild","addButton","BXBlockEditorEditDialog","changeList","ctrlList","itemFilter","itemPrevValues","htmlEditorParsedPhp","doNotProcessChanging","getPlaceCaption","caption","message","toUpperCase","attributePlaceName","attributeTab","attributeLink","attributeCtrl","callerContext","querySelector","contextTools","contextVisual","contextPanel","contextPlaceList","buttonSave","buttonClose","save","cancel","helper","BXBlockEditorHelper","social","initHtmlEditor","initColorPicker","initBorderControl","initTabs","initPlaceList","initTools","onEditorLoadAfter","callback","editor","placeContainer","placeBind","place","placeCode","placeList","findStylistPlaces","placeName","li","title","apply","tab","onTabClick","linkList","link","linkCode","linkCodeList","group","linkControl","htmlEditor","BXHtmlEditor","Get","minWidth","MIN_WIDTH","ResizeSceleton","AutoResizeSceleton","ctrlEditor","rawHtml","phpParser","replacePhpByLayout","replaceLayoutByPhp","SetContent","picker","window","BXColorPicker","Create","Close","clickHandler","element","parentNode","pCont","oPar","OnSelect","proxy","color","colorBox","nextSibling","background","Open","changeHandler","inputCtrl","ctrlStyle","ctrlWidth","ctrlColor","changeVisualHandler","val","arr","colorRgbToHex","oldValue","getCtrlValue","onControlChangeValue","key","fireDependenceChange","bindChange","func","nodeName","e","showTab","itemDependence","dependenceCode","dependenceCtrl","dependenceContainer","load","dependence","tabExists","itemCode","callbackFunction","wait","showWait","hasChanges","closeWait","offsetWidth","right","type","isFunction","setTimeout","hideTab","tv","availableCodeList","codeCurr","emptyTab","BXBlockEditorSliceContent","sectionId","textarea","getSectionHtml","tag","concat","getSlices","pattern","sliceRegExp","RegExp","matches","exec","section","trim","isArray","getHtml","sliceList","each","sectionSliceList","slice","BXBlockEditorCssParser","patternRule","patternDeclaration","patternStyleSheet","patternComments","patternMedia","parseRules","styles","selector","stylesRegExp","merge","parseDeclaration","declaration","mergeStyles","arr1","arr2","diffStylesAll","diff","media","diffStyles","object_keys","declarations","isString","rule","parseTag","str","parseRegExp","commentsRegExp","mediaRegExp","css","getCssString","parsed","setStyle","list","parseResult","changeResult","getStyle","BXBlockEditorStatusManager","onPlaceInitBlocksContent","setBlockStatusContent","onBlockEditEnd","getPlaceNameList","nodeList","changedPlaceList","status","CONST_ATTR_PLACE","block","placeNode","hasBlocksFromContent","blockNodeList","CONST_ATTR_BLOCK","blockNode","hasAttribute","controlsMap","excludeControlList","separator","hidden","compact"],"mappings":"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"}